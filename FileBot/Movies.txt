{any{if (s3d) 'O:/[3D Movies]/N/'}{vf =~ /1080p|720p|2160p|576p/ ? '/Movies3/2D Movies HD/' : '/Movies3/2D Movies SD/'}}{if (genres =~ /Animation|Animated/) 'Animation/'}{any{def map=['erinbrown':'[Actors]/Erin Brown','stephenking':'[Stephen King]']; actors.join(', ').lower().replaceAll(/[\W]/, "").matchAll(/erinbrown|stephenking/).findResults{ map[it] }.join(',')+'/'}{'['+file.path.replaceAll(/[\W]/, "").match(/monstervision|rifftrax|fanedit|usaupallnight|elvirasmoviemacabre|workprint/).lower().replaceAll(/workprint/,'WorkPrint').replaceAll(/rifftrax/,'RiffTrax').replaceAll(/miniseries/,'Mini-Series').replaceAll (/monstervision/,'MonsterVision').replaceAll(/fanedit/,'FanEdits').replaceAll(/usaupallnight/,'USA Up All Night').replaceAll(/elvirasmoviemacabre/,'Elvira\'s Movie Macabre')+']/'}{any{(csv('C:/FileBot Settings/Movies/TypeBasedOnMovie.csv').get(n+" ["+y+"]"))}{(csv('C:/FileBot Settings/Movies/GenreBasedOnMovie.csv').get(n+" ["+y+"]")) ? '': ''} {any{if (file.path.lower().matchAll(/monstervision|rifftrax|fanedit|usaupallnight|elvirasmoviemacabre|lifetime|hallmark/)) ('')}}}}{if (minutes < 50) ("[Shorts]/")}{any{if (genres.join(',  ').matchAll(/^(?=.*drama)(?=.*history|biography)/))('Docudrama/')}{(csv('C:/FileBot Settings/Movies/GenreBasedOnMovie.csv').get(n+" ["+y+"]"))}{any{if (genres.join(',  ').matchAll(/musical/))('Musicials/')}{if (genres.join(',  ').matchAll(/musical/))('Musicals/')}}{(csv('C:/FileBot Settings/Movies/GenreBasedOnMovie.csv').get(n+" ["+y+"]"))}{any{if (genres.join(',  '))(genres.minus(/Animation/)[0]+'/')}{genre}}{'[No Genre]'}}/{norm =  {it.upperInitial().lowerTrail().replaceTrailingBrackets().replaceAll(/[`´‘’ʻ""“”]/, "'").replaceAll(/[:|]/, " -  ").replaceAll(/[?]/, "!").replaceAll(/[*\s]+/, " ").replaceAll(/\b[IiVvXx]+\b/, { it.upper() }).replaceAll(/\b[0-9](?i:th| nd|rd)\b/, { it.lower() }).replaceFirst(/^(?i)(The)\s(.+)/, /$2, $1/).replaceAll(/tv/,'TV')}; norm((csv('C:/FileBot Settings/Movies/MovieNames.csv').get(primaryTitle+" ["+y+"]")) ?: n)}{if (norm(n) != norm(primaryTitle)) ' ('+norm(primaryTitle)+')'}{" (Part ${pi.pad(2)})"}{' ['+y+{any{((csv('C:/FileBot Settings/Movies/ExtraMovieInfo/Remakes.csv').get(n+" ["+y+"]"))+']').minus(null).replace(/Remake/, ' Remake')}{']'}}}{if (s3d) ' [3D '+{(s3d).lower().replaceAll(/h.sbs|half.sbs|hsbs/,'Half-SBS').replaceAll(/h.ou|half.ou|hou/,'Half-OU')}+']'} {'['+any{certification} {certification}.replaceAll(/^\d+$/, 'PG-$0').replaceAll('N/A','No Certification').replaceAll('N A','No Certification')+']'}{" [$minutes Min]"}{" ["+(rating)+"★]"}{if (minutes < 50) (" (Short)")}{" ["+file.path.lower().replaceAll(/tv/,'TV').replace(/3d/, '3D').replace(/ws/, 'widscreen').replace(/dc|directors|director.s/, 'director\'s cut').replaceAll('limited','Limited Release').replaceAll('-','').replaceAll(/blueray/,'BDRip').replaceAll(/theatrical/,'$0 Cut').replaceAll(/commentary/,'With Commentary').matchAll(/((?:uncensored|imax|uncut|unrated|remastered|ultimate|extended|director.s|theatrical|ultimate|final|bootleg|special|fan.edit|with.commentary|rifftrax|limited|monstervision|youtube|hulu|netflix|hbo|vimeo|netflix|amzn|handjob|edited|edit|censored|english|fullscreen|widescreen|vhs|tv.movie|2d.3d.conversion|criterion.collection|dual.audio|banned|out.of.print|unleashed|renegade|lifetime|hallmark)(?:.(?:edition|cut|version|edit|release|subbed|dub|rip))?)/).unique()*.upperInitial()*.lowerTrail().sort().join('] [').space(' ').replaceAll('Imax','IMAX').replaceAll('Tv','TV').replaceAll('Hbo','HBO')+']'}{" ["+any{(csv('C:/FileBot Settings/Movies/MovieSource.csv').get(source))}{source}{'No Source'}} {vf} {info.SpokenLanguages.displayLanguage.contains(/English/) ? '' : any{audios.groupBy{ it.language } findResults{ c, a -> a.Language ? (csv('C:/FileBot Settings/All/Locales.csv').findResults{ v, s -> v.contains(a.Language) ? "$s" : null }.join(', ')) : null }.join (', ')}{audios.language[0]}{file.path.lower().matchAll(/french|spanish|russian|chinese|dual.audio|japanese|german/)*.upperInitial()*.lowerTrail().sort().join('] [')}{(info.SpokenLanguages.displayLanguage.join(', '))}} {af.replace('8ch', '7.1ch').replace('7ch', '6.1ch').replace('6ch', '5.1ch').replace('3ch', '2.1ch').replace('2ch','2.0ch')} {ac} {vc+"]"} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/Cinavia.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/MovieStudios.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/TrueStory.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/RealPeople.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/PostCreditScenes.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/DirectToVideo.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/ShockMovies.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/FictionalDocumentaries.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/ComingOfAge.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/MindFuck.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/Mockumentaries.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/TimeTravel.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/UnsimulatedSex.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/BannedFilms.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/BasedOnBooks.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/WAC.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/TVNetworkMovies.csv').get(n+" ["+y+"]"))}{" ("+actors.take(3).join(', ')+")"}{" ("+actors.take(3).join(', ')+")"}{" ("+genres.take(3).join(', ')+")"}
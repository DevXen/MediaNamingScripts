{any{if (file.path.matchAll(/(3d|half|full|h?sbs|f?sbs|(?i)(?<=^|[^a-z])hou(?=$|[^a-z])|(?i)(?<=^|[^a-z])fou(?=$|[^a-z])|f.ou|anaglyth)(?:.sbs|(?i)(?<=^|[^a-z])cat(?=$|[^a-z]))?/)){'O:/[3D Movies]/'}}{'M:/Movies2/'}}{any{def map=['erinbrown':'[Actors]/Erin Brown','stephenking':'[Stephen King]']; actors.join(', ').lower().replaceAll(/[\W]/, "").matchAll(/erinbrown|stephenking/).findResults{ map[it] }.join(',')+'/'}{'['+file.path.replaceAll(/[\W]/, "").match(/monstervision|rifftrax|fanedit|usaupallnight|elvirasmoviemacabre|workprint/).lower().replaceAll(/workprint/,'WorkPrint').replaceAll(/rifftrax/,'RiffTrax').replaceAll(/miniseries/,'Mini-Series').replaceAll (/monstervision/,'MonsterVision').replaceAll(/fanedit/,'FanEdits').replaceAll(/usaupallnight/,'USA Up All Night').replaceAll(/elvirasmoviemacabre/,'Elvira\'s Movie Macabre')+']/'}{any{(csv('C:/FileBot Settings/Movies/TypeBasedOnMovie.csv').get(n+" ["+y+"]"))}{(csv('C:/FileBot Settings/Movies/GenreBasedOnMovie.csv').get(n+" ["+y+"]")) ? '': ''} {any{if (genres.join(' ').match(/animation/))('[Animation]/')}{if (genre.match(/animation|Animation|Animated|animated/))('[Animation]/')}}{any{if (file.path.lower().matchAll(/monstervision|rifftrax|fanedit|usaupallnight|elvirasmoviemacabre|lifetime|hallmark/)) ('')}{'[Genres]/'}}}}{if (minutes < 50) ("[Shorts]/")}{any{if (genres.join(',  ').matchAll(/^(?=.*drama)(?=.*history|biography)/))('[Docudrama]/')}{(csv('C:/FileBot Settings/Movies/GenreBasedOnMovie.csv').get(n+" ["+y+"]"))}{any{if (genres.join(',  ').matchAll(/musical/))('[Musicials]/')}{if (omdb.genres.join(',  ').matchAll(/musical/))('[Musicals]/')}}{(csv('C:/FileBot Settings/Movies/GenreBasedOnMovie.csv').get(n+" ["+y+"]"))}{any{if (omdb.genres.join(',  ').matchAll(/animation/))('['+omdb.genres[1]+']/')}{'['+genre+']'}}{'[No Genre]'}}/{norm =  {it.upperInitial().lowerTrail().replaceTrailingBrackets().replaceAll(/[`´‘’ʻ""“”]/, "'").replaceAll(/[:|]/, " -  ").replaceAll(/[?]/, "!").replaceAll(/[*\s]+/, " ").replaceAll(/\b[IiVvXx]+\b/, { it.upper() }).replaceAll(/\b[0-9](?i:th| nd|rd)\b/, { it.lower() }).replaceFirst(/^(?i)(The)\s(.+)/, /$2, $1/).replaceAll(/tv/,'TV')}; norm((csv('C:/FileBot Settings/Movies/MovieNames.csv').get(primaryTitle+" ["+y+"]")) ?: n)}{if (norm(n) != norm(primaryTitle)) ' ('+norm(primaryTitle)+')'}{" (Part ${pi.pad(2)})"}{if (minutes < 50) (" (Short)")}{" ["+file.path.lower().replaceAll(/tv/,'TV').replace(/ws/, 'widscreen').replace(/dc/, 'director\'s cut').replaceAll('limited','limited release').replaceAll('directors','director\'s').replaceAll('-','').replaceAll(/director.s|theatrical/,'$0 Cut').replaceAll(/commentary/,'With Commentary').matchAll(/(uncensored|uncut|unrated|remastered|ultimate|extended|director.s|theatrical|ultimate|final|bootleg|special|fan.edit.|with.commentary|limited|rifftrax|monstervision|youtube|hulu|netflix|vimeo|edited|edit|censored|english|fullscreen|widescreen|vhs|tv.movie|criterion.collection|banned|unleashed|renegade|lifetime|hallmark+)+(?:.edition|.cut|.version|.edit|.release|.dub|.rip)?/).unique()*.upperInitial()*.lowerTrail().sort().join('] [').replaceAll('Tv','TV')+']'}{def map=['3d':'3D','hsbs':'Half-SBS','halfsbs':'Half-SBS','fsbs':'Full-SBS','fullsbs':'Full-SBS','sbs':'SBS','halfou':'Half-OU','fullou':'Full-OU','overunder':'OU','anaglyph':'Anaglyph']; " ("+ ((file.path.lower().contains(/3d/)) ? '' : '3D ')+ file.path.lower().replaceAll('half-ou','halfou').replaceAll(/(?i)(?<=^|[^a-z])hou(?=$|[^a-z])/,'halfou').replaceAll(/(?i)(?<=^|[^a-z])fou(?=$|[^a-z])/,'fullou').replaceAll(/(?i)(?<=^|[^a-z])ou(?=$|[^a-z])/,'overunder').replaceAll(/[\W]/, "").replaceAll("3dvd","3.dvd").matchAll(/3d(?!.*?3d)|hsbs(?!.*?hsbs)|halfsbs(?!.*?halfsbs)|fsbs(?!.*?fsbs)|fullsbs(?!.*?fullsbs)|sbs(?!.*?sbs)|halfou(?!.*?halfou)|fullou(?!.*?fullou)|overunder(?!.*?overunder)|anaglyph(?!.*?anaglyph)/).findResults{ map[it]}.sort().join(' ')+')'}{any{" ["+d.format("yyyy")+any{+" "+(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/Remakes.csv').get(n+" ["+y+"]"))}{''}+"]"}{y}}{' ['+any{certification} {omdb.certification}.replaceAll(/^\d+$/, 'PG-$0').replaceAll('N A','No Certification')+']'}{" [$minutes Min]"}{" ["+(rating)+"★]"}{" ["+any{(csv('C:/FileBot Settings/Movies/MovieSource.csv').get(source))}{(source)}{'No Source'}} {vf} {info.SpokenLanguages.displayLanguage.contains(/English/) ? '' : any{audios.groupBy{ it.language } findResults{ c, a -> a.Language ? (csv('C:/FileBot Settings/All/Locales.csv').findResults{ v, s -> v.contains(a.Language) ? "$s" : null }.join(', ')) : null }.join (', ')}{audios.language[0]}{file.path.lower().matchAll(/french|spanish|russian|chinese|japanese|german/)*.upperInitial()*.lowerTrail().sort().join('] [')}{(info.SpokenLanguages.displayLanguage.join(', '))}} {af.replace('8ch', '7.1ch').replace('7ch', '6.1ch').replace('6ch', '5.1ch').replace('3ch', '2.1ch').replace('2ch','2.0ch')+"]"} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/Cinavia.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/MovieStudios.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/TrueStory.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/RealPeople.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/PostCreditScenes.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/DirectToVideo.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/ShockMovies.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/FictionalDocumentaries.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/ComingOfAge.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/MindFuck.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/Mockumentaries.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/TimeTravel.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/UnsimulatedSex.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/BannedFilms.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/BasedOnBooks.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/WAC.csv').get(n+" ["+y+"]"))} {(csv('C:/FileBot Settings/Movies/ExtraMovieInfo/TVNetworkMovies.csv').get(n+" ["+y+"]"))}{" ("+actors.take(3).join(', ')+")"}{" ("+genres.take(3).join(', ')+")"}